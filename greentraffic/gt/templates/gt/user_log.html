{% extends "base.html" %}
{% comment %} TODO blockの名称をbaseに合わせる {% endcomment %}

{% load static %}
{% block title %}検索履歴 | Green Traffic{% endblock %}

{% block log_list %} active {% endblock %}
{% comment %} TODO DBに登録済みのマップ情報を一覧表示するリストを記載 {% endcomment %}


{%block head%}
<head class = "">
    <div class = "">
        <h1>- 履歴画面 -</h1>
        <span class="">サブタイトルをどうぞ</span>
    </div>
    <link href="{% static 'css/' %}" rel="stylesheet">
    {% comment %} cssのリンクをどうぞ {% endcomment %}
</head>
{% endblock %}


{% block contents %}
<div class ="">

    {% comment %} TODO filterするためのInputタグを記載 {% endcomment %}

    {% comment %} <input class = "" value = filter/> {% endcomment %}

    {% comment %} マップ情報を一覧表示 {% endcomment %}
    {% for info in log_list%}
    {% comment %} TODO log_listはあとで変数合わせる {% endcomment %}

    <div class = "post-preview">
        {% comment %} TODO 以下はDBに保存される内容に合わせる {% endcomment %}
        <p class = "post-title">{{info.start}}→{{info.arrival}}</p>
        <a href="{% url 'gt:log_detail' gt.pk %}">
    </div>

    {% empty %}
    <p>検索履歴が見つかりません。</p>
    {% endfor %}

    {% comment %}ペネトレーション {% endcomment %}
    {% if is_paginated %}
    <ul class="pagination">
        <!-- 前ページへのリンク -->
        {% if page_obj.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.previous_page_number }}">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        {% endif %}

        <!-- ページ数表示 -->
        {% for page_num in page_obj.paginator.page_range %} {% if
        page_obj.number == page_num %}
        <li class="page-item active">
            <a class="page-link" href="#">{{ page_num }}</a>
        </li>
        {% else %}
        <li class="page-item">
            <a class="page-link" href="?page={{ page_num }}">{{ page_num }}</a>
        </li>
        {% endif %} {% endfor %}

        <!-- 次ページへのリンク -->
        {% if page_obj.has_next %}
        <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.next_page_number }}">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
        {% endif %}
    </ul>
    {% endif %}

</div>
{% endblock %}